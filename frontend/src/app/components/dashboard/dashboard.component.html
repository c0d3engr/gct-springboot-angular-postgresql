<mat-tab-group
  [selectedIndex]="selectedIndex"
  (selectedIndexChange)="selected.setValue($event)"
  mat-align-tabs="start"
  class="bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700"
>
  <mat-tab *ngFor="let tab of tabs; let i = index" [label]="tab">
    <ng-template matTabContent>
      <div class="p-4">
        <table
          mat-table
          [dataSource]="dataSource"
          class="w-full mat-elevation-z8"
        >
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef class="text-left">Name</th>
            <td mat-cell *matCellDef="let element">{{ element.name }}</td>
          </ng-container>

          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef class="text-left">Email</th>
            <td mat-cell *matCellDef="let element">{{ element.email }}</td>
          </ng-container>

          <ng-container matColumnDef="zeny">
            <th mat-header-cell *matHeaderCellDef class="text-left">Zeny</th>
            <td mat-cell *matCellDef="let element">{{ element.zeny }}</td>
          </ng-container>

          <ng-container matColumnDef="notes">
            <th mat-header-cell *matHeaderCellDef class="text-left">Notes</th>
            <td mat-cell *matCellDef="let element">{{ element.notes }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
    </ng-template>
  </mat-tab>
</mat-tab-group>

<div class="mt-4 flex gap-2">
  <button mat-raised-button color="primary" (click)="addTab()">Add Game</button>
  <button
    mat-raised-button
    color="warn"
    (click)="removeTab(selectedIndex)"
    [disabled]="tabs.length <= 1"
  >
    Remove Game
  </button>
</div>

<style>
  * {
    color: #000;
  }

  .mat-tab-label {
    opacity: 0.7;
  }
</style>
